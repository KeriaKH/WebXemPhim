{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate,useParams}from'react-router-dom';import RandomAnime from'../Component/RandomAnime';import TopAnime from'../Component/TopAnime';import{getAnime,getListChapter}from'../Service/Anime';import VideoPlayer from'../Component/VideoPlayer';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function WatchPage(_ref){let{AnimeList}=_ref;const{id}=useParams();const{tap}=useParams();const[Anime,setAnime]=useState();const[Chapters,setChapters]=useState();useEffect(()=>{getAnime(id).then(data=>{setAnime(data);});getListChapter(id).then(data=>{setChapters(data);});},[id]);const nav=useNavigate();const change=index=>()=>{nav(\"/Phim/\".concat(id,\"/\").concat(index+1));};if(!Anime){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-full\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-white text-xl\",children:\"Loading...\"})});}if(!Chapters||!Chapters.length){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-full\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-white text-xl\",children:Chapters?\"No Chapters Available\":\"Loading Chapters...\"})});}if(!Chapters[tap-1]){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-full\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-white text-xl\",children:\"Invalid Chapter Selection\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"justify-center flex h-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-[60vw] flex bg-custom_black justify-between p-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-[70%] h-full \",children:[/*#__PURE__*/_jsx(VideoPlayer,{url:Chapters[tap-1].URL}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full p-3 flex bg-slate-800 mt-10\",children:Array.from({length:Chapters.length},(_,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:change(index),className:\"p-3 text-white ml-2 hover:bg-slate-500 duration-300 \".concat(index===tap-1?\"bg-slate-500\":\"bg-slate-950\"),children:index+1},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-[28%] space-y-5\",children:[/*#__PURE__*/_jsx(RandomAnime,{AnimeList:AnimeList}),/*#__PURE__*/_jsx(TopAnime,{AnimeList:AnimeList})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","RandomAnime","TopAnime","getAnime","getListChapter","VideoPlayer","jsx","_jsx","jsxs","_jsxs","WatchPage","_ref","AnimeList","id","tap","Anime","setAnime","Chapters","setChapters","then","data","nav","change","index","concat","className","children","length","url","URL","Array","from","_","onClick"],"sources":["D:/.Net/tmp/my-app/src/Page/WatchPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport RandomAnime from '../Component/RandomAnime';\r\nimport TopAnime from '../Component/TopAnime';\r\nimport { getAnime, getListChapter } from '../Service/Anime';\r\nimport VideoPlayer from '../Component/VideoPlayer';\r\n\r\n\r\nexport default function WatchPage({ AnimeList }) {\r\n    const { id } = useParams()\r\n    const { tap } = useParams()\r\n    const [Anime, setAnime] = useState()\r\n    const [Chapters, setChapters] = useState()\r\n    useEffect(() => {\r\n        getAnime(id).then((data) => {\r\n            setAnime(data);\r\n        })\r\n        getListChapter(id).then((data) => {\r\n            setChapters(data)\r\n        })\r\n    }, [id])\r\n\r\n    const nav = useNavigate()\r\n    const change = (index) => () => {\r\n        nav(`/Phim/${id}/${index + 1}`)\r\n    }\r\n\r\n    if (!Anime) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-full\">\r\n                <p className=\"text-white text-xl\">Loading...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!Chapters || !Chapters.length) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-full\">\r\n                <p className=\"text-white text-xl\">\r\n                    {Chapters ? \"No Chapters Available\" : \"Loading Chapters...\"}\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!Chapters[tap - 1]) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-full\">\r\n                <p className=\"text-white text-xl\">Invalid Chapter Selection</p>\r\n            </div>\r\n        );\r\n    }\r\n    return (\r\n        <div className='justify-center flex h-full'>\r\n            <div className='w-[60vw] flex bg-custom_black justify-between p-5'>\r\n                <div className='w-[70%] h-full '>\r\n                    <VideoPlayer url={Chapters[tap - 1].URL} />\r\n                    <div className='w-full p-3 flex bg-slate-800 mt-10'>\r\n                        {Array.from({ length: Chapters.length }, (_, index) => (\r\n                            <button onClick={change(index)} key={index} className={`p-3 text-white ml-2 hover:bg-slate-500 duration-300 ${index === tap - 1 ? \"bg-slate-500\" : \"bg-slate-950\"}`}>{index + 1}</button>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <div className='w-[28%] space-y-5'>\r\n                    <RandomAnime AnimeList={AnimeList} />\r\n                    <TopAnime AnimeList={AnimeList} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}